
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Umgang mit Dateien &#8212; Programmierung und Datenbanken</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d8a2add5" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css?v=062df064" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-menu/quarto-menu.css?v=a9b70b88" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-menu/menu.css?v=b1df3480" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/highlight/monokai.css?v=075166d3" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/highlight/zenburn.css?v=83d5745d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/style.css?v=6050ce3b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/quarto-line-highlight/line-highlight.css?v=52b149a6" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/quarto-support/footer.css?v=53995862" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css?v=124a15ac" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/font-awesome/css/v4-shims.css?v=1b0e564b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/font-awesome/css/solid.css?v=e0521a22" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/font-awesome/css/brands.css?v=7dcd769b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/font-awesome/css/regular.css?v=0b430bdf" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/font-awesome/css/v4-shims.min.css?v=898855d1" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/font-awesome/css/svg-with-js.css?v=aac53de5" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/revealjs/plugin/reveal-chalkboard/font-awesome/css/fontawesome.css?v=d504f742" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script src="https://cdn.jsdelivr.net/gh/bonartm/quizdown-js@latest/public/build/quizdown.js"></script>
    <script>quizdown.init({"start_on_load": true, "shuffle_answers": true, "shuffle_questions": false, "primary_color": "#FF851B", "secondary_color": "#DDDDDD", "text_color": "black", "locale": "de", "quizdown_js": "https://cdn.jsdelivr.net/gh/bonartm/quizdown-js@latest/public/build/quizdown.js"});</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lectures/09_Datenhaltung';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/styles/revealjs/plugin/reveal-menu/quarto-menu.js?v=b4fc9030"></script>
    <script src="../_static/styles/revealjs/plugin/reveal-menu/menu.js?v=27134a44"></script>
    <script src="../_static/styles/revealjs/plugin/highlight/highlight.esm.js?v=1254c8f3"></script>
    <script src="../_static/styles/revealjs/plugin/highlight/highlight.js?v=d8e1bd11"></script>
    <script src="../_static/styles/revealjs/plugin/highlight/plugin.js?v=de14e947"></script>
    <script src="../_static/styles/revealjs/plugin/markdown/markdown.esm.js?v=c1d1720c"></script>
    <script src="../_static/styles/revealjs/plugin/markdown/plugin.js?v=b7c888a0"></script>
    <script src="../_static/styles/revealjs/plugin/markdown/markdown.js?v=96b9265a"></script>
    <script src="../_static/styles/revealjs/plugin/reveal-chalkboard/plugin.js?v=5c29cd4a"></script>
    <script src="../_static/styles/revealjs/plugin/quarto-line-highlight/line-highlight.js?v=1b7b3781"></script>
    <script src="../_static/styles/revealjs/plugin/math/katex.js?v=a56d0b0a"></script>
    <script src="../_static/styles/revealjs/plugin/math/mathjax2.js?v=61c34cb4"></script>
    <script src="../_static/styles/revealjs/plugin/math/mathjax3.js?v=aa10c317"></script>
    <script src="../_static/styles/revealjs/plugin/math/math.esm.js?v=4432b676"></script>
    <script src="../_static/styles/revealjs/plugin/math/math.js?v=fdaf90ea"></script>
    <script src="../_static/styles/revealjs/plugin/math/plugin.js?v=62b4f3c3"></script>
    <script src="../_static/styles/revealjs/plugin/search/search.esm.js?v=755e6b2e"></script>
    <script src="../_static/styles/revealjs/plugin/search/search.js?v=fc149e99"></script>
    <script src="../_static/styles/revealjs/plugin/search/plugin.js?v=99bfb13f"></script>
    <script src="../_static/styles/revealjs/plugin/quarto-support/support.js?v=1448896a"></script>
    <script src="../_static/styles/revealjs/plugin/notes/notes.js?v=d900d418"></script>
    <script src="../_static/styles/revealjs/plugin/notes/notes.esm.js?v=e3d88def"></script>
    <script src="../_static/styles/revealjs/plugin/notes/plugin.js?v=c6bed375"></script>
    <script src="../_static/styles/revealjs/plugin/zoom/zoom.js?v=2fef532c"></script>
    <script src="../_static/styles/revealjs/plugin/zoom/zoom.esm.js?v=c566db7e"></script>
    <script src="../_static/styles/revealjs/plugin/zoom/plugin.js?v=a47a6514"></script>
    <script src="../_static/styles/revealjs/plugin/pdf-export/pdfexport.js?v=c7b6e01c"></script>
    <link rel="canonical" href="https://code-book.ai4sc-lehre.auf.uni-rostock.de/lectures/09_Datenhaltung.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Datenbanktypen" href="10a_Datenbanktypen.html" />
    <link rel="prev" title="Modularisierung" href="07a_Module.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pd_logo2.svg" class="logo__image only-light" alt="Programmierung und Datenbanken - Home"/>
    <script>document.write(`<img src="../_static/pd_logo2.svg" class="logo__image only-dark" alt="Programmierung und Datenbanken - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Grundlagen</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01c_Computerhardware.html">Computerhardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="01d_Programmiersprachen.html">Programmiersprachen</a></li>
<li class="toctree-l1"><a class="reference internal" href="02a_Softwarearchitektur.html">Softwarearchitektur</a></li>
<li class="toctree-l1"><a class="reference internal" href="02b_Wissenspyramide.html">Wissenspyramide</a></li>
<li class="toctree-l1"><a class="reference internal" href="02c_Datentypen.html">Datentypen</a></li>
<li class="toctree-l1"><a class="reference internal" href="03a_Operatoren.html">Operatoren</a></li>
<li class="toctree-l1"><a class="reference internal" href="03a_Verzweigung.html">Verzweigungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="03b_Schleifen.html">Schleifen</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Modularisierung</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="04a_Funktionen.html">Funktionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="04b_Rekursion.html">Rekursive Funktionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="04c_Objects.html">Objekte</a></li>
<li class="toctree-l1"><a class="reference internal" href="05a_Softwareentwurf.html">Softwareentwurf</a></li>
<li class="toctree-l1"><a class="reference internal" href="05b_Programmablauf.html">Programmablauf</a></li>

<li class="toctree-l1"><a class="reference internal" href="05c_Algorithmen.html">Algorithmen</a></li>
<li class="toctree-l1"><a class="reference internal" href="06a_Exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="06b_UnitTest.html">Unit-Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="07a_Module.html">Modularisierung</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Datenbanken</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Umgang mit Dateien</a></li>
<li class="toctree-l1"><a class="reference internal" href="10a_Datenbanktypen.html">Datenbanktypen</a></li>
<li class="toctree-l1"><a class="reference internal" href="10b_RelationaleDatenbanken.html">Relationale Datenbanken</a></li>
<li class="toctree-l1"><a class="reference internal" href="10c_Datenbanken_SQL_Select.html">Tabellen mit SQL analysieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="11a_Datenbanken_Entwurf.html">Entwurf relationaler Datenbanken</a></li>
<li class="toctree-l1"><a class="reference internal" href="11b_Datenbanken_SQL_Create.html">Tabellen mit SQL anlegen</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<a href="09_Datenhaltung_en.html" class="button btn btn-sm" title="en" data-bs-placement="bottom" data-bs-toggle="tooltip"><span class="btn__icon-container"><i class="fas fa-language "></i></span></a><div  class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/lectures/09_Datenhaltung.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Umgang mit Dateien</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#folien-pdf"><a href="/lec_slides/09_Datenhaltung.slides.html">Folien</a>/<a href="/pdf/slides/09_Datenhaltung.pdf">PDF</a></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dateien-lesen">Dateien lesen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dateien-schreiben">Dateien schreiben</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datei-existenz-testen">Datei existenz testen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dateien-auflisten">Dateien auflisten</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dateien-loschen">Dateien löschen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#typische-textuelle-dateiformate">Typische textuelle Dateiformate</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#txt-dateien">TXT-Dateien</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#json-dateien">JSON-Dateien</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#geojson-dateien">GeoJSON-Dateien</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#xml">XML</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-dateien">CSV-Dateien</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#typische-binare-dateiformate">Typische binäre Dateiformate</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xls-dateien">XLS-Dateien</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#zip-dateien">ZIP-Dateien</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quiz">Quiz</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="umgang-mit-dateien">
<h1>Umgang mit Dateien<a class="headerlink" href="#umgang-mit-dateien" title="Link to this heading">#</a></h1>
<figure class="mj-tile-band">
    <img src='../_images/09_Datenhaltung/mj_title_band.jpg'>
    <figcaption>Midjourney: Librarian, ref. Giuseppe Arcimboldo</figcaption>
</figure>
<blockquote>
<div><p>We don’t have better algorithms. We just have more data.</p>
<p>— Peter Norvig</p>
</div></blockquote>
<section id="folien-pdf">
<h2><a href="/lec_slides/09_Datenhaltung.slides.html">Folien</a>/<a href="/pdf/slides/09_Datenhaltung.pdf">PDF</a><a class="headerlink" href="#folien-pdf" title="Link to this heading">#</a></h2>
<iframe src="/lec_slides/09_Datenhaltung.slides.html" width="750" height="500"></iframe><p>In Programmen müssen regelmäßig Daten geladen und gespeichert werden. Dies geschieht in Computern in Dateien, welche in Verzeichnissen organisiert sind. In der letztem Abschnitt zu Paketen haben wir bereits einige Beispiele gesehen die mit Dateien arbeiten. Diese wollen wir nun detaillierter kennen lernen.</p>
</section>
<section id="dateien-lesen">
<h2>Dateien lesen<a class="headerlink" href="#dateien-lesen" title="Link to this heading">#</a></h2>
<p>Eine typische Aufgabe ist es Dateien zu laden. Hierfür bietet Python die <code class="docutils literal notranslate"><span class="pre">open()</span></code>-Funktion mit dem Kürzel <code class="docutils literal notranslate"><span class="pre">r</span></code> (read). Hierfür gibt man der <code class="docutils literal notranslate"><span class="pre">open()</span></code>-Funktion den Pfad der zu ladenden Datei an und auch den Datentyp der Datei also ob die Datei eine Textdatei ist <code class="docutils literal notranslate"><span class="pre">t</span></code> oder eine binäre Datei <code class="docutils literal notranslate"><span class="pre">b</span></code> ist.</p>
<p>Die <code class="docutils literal notranslate"><span class="pre">open()</span></code>-Funktion verwendet man meist im <code class="docutils literal notranslate"><span class="pre">with</span></code>-Konstrukt, welcher die Datei einer Variable zuordnet (<code class="docutils literal notranslate"><span class="pre">fi</span></code>) und die Datei nach Beendigung des Blocks auch automatisch schließt. Zum lesen des Inhalts der Datei nutzen wir die <code class="docutils literal notranslate"><span class="pre">read()</span></code> des Dateiobjektes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;geometry/shapes/Line.py&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">dateinhalt</span><span class="o">=</span><span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datentyp Datei </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">fi</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datentyp Variable </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Datentyp Datei &lt;class &#39;_io.TextIOWrapper&#39;&gt;
Datentyp Variable &lt;class &#39;str&#39;&gt;

from geometry.points.ImmutablePoint import ImmutablePoint

class Line:
    def __init__(self, start: ImmutablePoint, end: ImmutablePoint):
        if not isinstance(start, ImmutablePoint):
            raise TypeError(&quot;start not of type ImmutablePoint&quot;)
        if not isinstance(end, ImmutablePoint):
            raise TypeError(&quot;end not of type ImmutablePoint&quot;)
        self.start = start
        self.end = end

    def length(self):
        return self.start.distance(self.end)
</pre></div>
</div>
</div>
</div>
<p>In gleicher Form kann man auch binäre Dateien einlesen. Dafür tauschen wir den Dateityp <code class="docutils literal notranslate"><span class="pre">t</span></code> mit binär aus <code class="docutils literal notranslate"><span class="pre">b</span></code> und laden die Datei. Wir sehen, dass jetzt der Datentyp der geladenen Dateinhalts zu <code class="docutils literal notranslate"><span class="pre">byte</span></code> wechselt. Printen wir den Dateinhalt sehen wir auch direkt die Sonderzeichen in der Datei wie <code class="docutils literal notranslate"><span class="pre">\r</span></code> und <code class="docutils literal notranslate"><span class="pre">\n</span></code> welche für den Zeilenumbruch stehen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;geometry/shapes/Line.py&quot;</span><span class="p">,</span> <span class="s2">&quot;br&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">dateinhalt</span><span class="o">=</span><span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datentyp Datei </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">fi</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datentyp Variable </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Datentyp Datei &lt;class &#39;_io.BufferedReader&#39;&gt;
Datentyp Variable &lt;class &#39;bytes&#39;&gt;

b&#39;from geometry.points.ImmutablePoint import ImmutablePoint\n\nclass Line:\n    def __init__(self, start: ImmutablePoint, end: ImmutablePoint):\n        if not isinstance(start, ImmutablePoint):\n            raise TypeError(&quot;start not of type ImmutablePoint&quot;)\n        if not isinstance(end, ImmutablePoint):\n            raise TypeError(&quot;end not of type ImmutablePoint&quot;)\n        self.start = start\n        self.end = end\n\n    def length(self):\n        return self.start.distance(self.end)&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="dateien-schreiben">
<h2>Dateien schreiben<a class="headerlink" href="#dateien-schreiben" title="Link to this heading">#</a></h2>
<p>In gleicher Weise können wir mit der <code class="docutils literal notranslate"><span class="pre">open()</span></code>-Funktion auch neue Dateien erzeugen. Hierfür nutzen wir das Kürzel <code class="docutils literal notranslate"><span class="pre">w</span></code> (write). Auch hier werden Textdateien mit <code class="docutils literal notranslate"><span class="pre">t</span></code> und binäre Dateien mit <code class="docutils literal notranslate"><span class="pre">b</span></code> unterschieden. Zum Schreiben der Datei nutzen wir die <code class="docutils literal notranslate"><span class="pre">write()</span></code>-Methode des Dateiobjektes <code class="docutils literal notranslate"><span class="pre">fo</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;meineDatei.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;tw&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fo</span><span class="p">:</span>
    <span class="n">dateinhalt</span><span class="o">=</span><span class="s2">&quot;Meine eigener Inhalt&quot;</span>
    <span class="n">fo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Zum überprüfen lesen wir die Datei wieder.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;meineDatei.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Meine eigener Inhalt
</pre></div>
</div>
</div>
</div>
<p>Wichtig zu wissen ist, dass die Datei vollständig überschrieben wird.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;meineDatei.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;tw&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fo</span><span class="p">:</span>
    <span class="n">dateinhalt</span><span class="o">=</span><span class="s2">&quot;Neuer Inhalt&quot;</span>
    <span class="n">fo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;meineDatei.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Neuer Inhalt
</pre></div>
</div>
</div>
</div>
</section>
<section id="datei-existenz-testen">
<h2>Datei existenz testen<a class="headerlink" href="#datei-existenz-testen" title="Link to this heading">#</a></h2>
<p>Häufig will man testen ob eine Datei bereits existiert und dementsprechend diese laden oder z.B. neu erzeugen. Solche und andere Funktionen bietet die Standardbibliothek <code class="docutils literal notranslate"><span class="pre">os</span></code> die wir bereits kennen gelernt haben.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;meineDatei.txt&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Datei existiert&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Datei existiert noch nicht&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Datei existiert
</pre></div>
</div>
</div>
</div>
</section>
<section id="dateien-auflisten">
<h2>Dateien auflisten<a class="headerlink" href="#dateien-auflisten" title="Link to this heading">#</a></h2>
<p>Zum Auflisten aller Dateien in einem Verzeichnis <code class="docutils literal notranslate"><span class="pre">folder</span></code> können wir die Funktion <code class="docutils literal notranslate"><span class="pre">os.listdir()</span></code> benutzen. Mit der Funktion <code class="docutils literal notranslate"><span class="pre">os.path.isfile()</span></code> können wir prüfen ob der Name auf eine Datei oder ein Verzeichnis ist. Ist es eine Datei, so können wir diese mit der <code class="docutils literal notranslate"><span class="pre">open</span></code>-Funktion öffnen, um z.B. alle Dateien zu laden und die Anzahl der Code-Zeilen zu berechnen. Dafür nutzen wir anstatt der <code class="docutils literal notranslate"><span class="pre">read</span></code>-Funktion die <code class="docutils literal notranslate"><span class="pre">readlines</span></code>-Funktion um alle Zeilen einzeln in einer Liste zu erhalten.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">folder</span> <span class="o">=</span> <span class="s2">&quot;geometry/shapes/&quot;</span>
<span class="n">files</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">codelines</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">folder</span><span class="p">)):</span>
	<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">name</span><span class="p">)):</span>
		<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
			<span class="n">codelines</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">fi</span><span class="o">.</span><span class="n">readlines</span><span class="p">())</span>
			<span class="n">files</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">codelines</span><span class="si">}</span><span class="s2"> Codezeilen in </span><span class="si">{</span><span class="n">files</span><span class="si">}</span><span class="s2"> Dateien&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>64 Codezeilen in 5 Dateien
</pre></div>
</div>
</div>
</div>
</section>
<section id="dateien-loschen">
<h2>Dateien löschen<a class="headerlink" href="#dateien-loschen" title="Link to this heading">#</a></h2>
<p>Die <code class="docutils literal notranslate"><span class="pre">os</span></code>-Paket bietet auch Funktionen, um Dateien zu löschen. Selbstverständlich sollte die mit Vorsicht verwendet werdet werden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;meineDatei.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="typische-textuelle-dateiformate">
<h2>Typische textuelle Dateiformate<a class="headerlink" href="#typische-textuelle-dateiformate" title="Link to this heading">#</a></h2>
<section id="txt-dateien">
<h3>TXT-Dateien<a class="headerlink" href="#txt-dateien" title="Link to this heading">#</a></h3>
<p>Eine der einfachsten Formate um Texte auf dem Computer zu Speichern sind Text-Dateien. Sie haben meist die Dateiendung <code class="docutils literal notranslate"><span class="pre">.txt</span></code>. Diese Dateiänderung haben wir bereits oben genutzt.</p>
</section>
<section id="json-dateien">
<h3>JSON-Dateien<a class="headerlink" href="#json-dateien" title="Link to this heading">#</a></h3>
<p>Heutzutage werden strukturierte Informationen oft im <code class="docutils literal notranslate"><span class="pre">JSON</span></code>-Format ausgetauscht. Insbesondere viele APIs von Webserver im Internet nutzen diesen Standard. Er hat den Vorteil, dass die Daten durch den Menschen lesbar bleiben und somit auch vom Webdeveloper interpretiert werden können. Im Kern ähnelt der Standard der Darstellung von <code class="docutils literal notranslate"><span class="pre">dict</span></code> in Python.</p>
<p>Wir können zum Beispiel den Datensatz zu einer Person in dem folgendem <code class="docutils literal notranslate"><span class="pre">dict</span></code> speichern.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">person</span><span class="o">=</span><span class="p">{</span>
	<span class="s2">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
	<span class="s2">&quot;lastName&quot;</span><span class="p">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span>
	<span class="s2">&quot;isAlive&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
	<span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
	<span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="p">{</span>
		<span class="s2">&quot;streetAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;21 2nd Street&quot;</span><span class="p">,</span>
		<span class="s2">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;New York&quot;</span><span class="p">,</span>
		<span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;NY&quot;</span><span class="p">,</span>
		<span class="s2">&quot;postalCode&quot;</span><span class="p">:</span> <span class="s2">&quot;10021-3100&quot;</span> 
	<span class="p">},</span>
 	<span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[],</span>
	<span class="s2">&quot;spouse&quot;</span><span class="p">:</span> <span class="kc">None</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Mit Hilfe des <code class="docutils literal notranslate"><span class="pre">json</span></code>-Pakets lässt sich dieser Datensatz jetzt einfach in ein <code class="docutils literal notranslate"><span class="pre">JSON</span></code> String umwandeln und in eine Datei schreiben.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;person.json&quot;</span><span class="p">,</span> <span class="s2">&quot;tw&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fo</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="n">fo</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Schauen wir uns einmal die Datei an. Da es eine textuelle Datei ist, können wir sie mit <code class="docutils literal notranslate"><span class="pre">open(name,</span> <span class="pre">&quot;tr&quot;)</span></code> laden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;person.json&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">dateinhalt</span><span class="o">=</span><span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
  &quot;firstName&quot;: &quot;John&quot;,
  &quot;lastName&quot;: &quot;Smith&quot;,
  &quot;isAlive&quot;: true,
  &quot;age&quot;: 25,
  &quot;address&quot;: {
    &quot;streetAddress&quot;: &quot;21 2nd Street&quot;,
    &quot;city&quot;: &quot;New York&quot;,
    &quot;state&quot;: &quot;NY&quot;,
    &quot;postalCode&quot;: &quot;10021-3100&quot;
  },
  &quot;children&quot;: [],
  &quot;spouse&quot;: null
}
</pre></div>
</div>
</div>
</div>
<p>Wir sehen, dass die JSON-Representation dem oben definiertem Dictionary <code class="docutils literal notranslate"><span class="pre">person</span></code> sehr ähnlich ist. Die einzigen unterschiede sind, dass das in Pyton Großgeschriebene <code class="docutils literal notranslate"><span class="pre">True</span></code> hier klein geschrieben wird und das <code class="docutils literal notranslate"><span class="pre">none</span></code> aus Python mit <code class="docutils literal notranslate"><span class="pre">null</span></code> ersetzt wurde. Die Struktur beider Repräsentationen ist jedoch identisch.</p>
<p>Aus dieser Textdatei können wir jetzt unseren Datensatz direkt als <code class="docutils literal notranslate"><span class="pre">dict</span></code> wieder laden. Zur Darstellung nutzen wir diesmal pretty Print, weil es besser zu lesen ist.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;person.json&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">person_geladen</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fi</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datentyp </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">person_geladen</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">person_geladen</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Datentyp &lt;class &#39;dict&#39;&gt;
{&#39;address&#39;: {&#39;city&#39;: &#39;New York&#39;,
             &#39;postalCode&#39;: &#39;10021-3100&#39;,
             &#39;state&#39;: &#39;NY&#39;,
             &#39;streetAddress&#39;: &#39;21 2nd Street&#39;},
 &#39;age&#39;: 25,
 &#39;children&#39;: [],
 &#39;firstName&#39;: &#39;John&#39;,
 &#39;isAlive&#39;: True,
 &#39;lastName&#39;: &#39;Smith&#39;,
 &#39;spouse&#39;: None}
</pre></div>
</div>
</div>
</div>
<p>Das geladene <code class="docutils literal notranslate"><span class="pre">dict</span></code> entspricht unserem ursprünglichem Dictionary <code class="docutils literal notranslate"><span class="pre">person</span></code>. Es hat sich zwar die Reihenfolge der Einträge geändert, aber dies ist nicht garantiert in J</p>
</section>
</section>
<section id="geojson-dateien">
<h2>GeoJSON-Dateien<a class="headerlink" href="#geojson-dateien" title="Link to this heading">#</a></h2>
<p>Eine besondere Variante des JSON-Formates das insbesondere für die Umweltinformatik relevant ist, ist das standartisierte <a class="reference external" href="https://geojson.org/">GeoJSON-Format</a>. Dieses auf JSON-basierende Format definiert wie bestimmte Geometrische Objekte wie Punkt, Linien und Polygone in JSON dargestellt werden sollen. Jedes Element wird dabei als JSON-Objekt (<code class="docutils literal notranslate"><span class="pre">dict</span></code> in Python) beschrieben und definiert die Attribute <code class="docutils literal notranslate"><span class="pre">type</span></code> und <code class="docutils literal notranslate"><span class="pre">coordinates</span></code>.</p>
<p>Ein Punkt ist dabei definiert als Element mit dem Typen <code class="docutils literal notranslate"><span class="pre">Point</span></code> und zwei Koordinaten.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">punkt</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">12.095843457646907</span><span class="p">,</span> <span class="mf">54.075229197333016</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Eine Linie ist gegeben als <code class="docutils literal notranslate"><span class="pre">LineString</span></code> mit einer Liste an Punkt-Koordinaten, welche meist die Anfangs- und End-Koordinaten sind. Werden im <code class="docutils literal notranslate"><span class="pre">LineString</span></code> mehr als zwei Koordinaten angegeben haben wir eine Linienkette.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">linie_oki_auf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;LineString&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span> <span class="mf">12.095844241344963</span><span class="p">,</span> <span class="mf">54.075206445655795</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.09606074723871</span><span class="p">,</span> <span class="mf">54.075028604743636</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.09593084370266</span><span class="p">,</span> <span class="mf">54.074930156768204</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.096282665780166</span><span class="p">,</span> <span class="mf">54.07495873846247</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.096558710795335</span><span class="p">,</span> <span class="mf">54.07507941651065</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.096840168457192</span><span class="p">,</span> <span class="mf">54.074863466071434</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.098052601464076</span><span class="p">,</span> <span class="mf">54.07534617726671</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.098187917647891</span><span class="p">,</span> <span class="mf">54.07534617726671</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.098317821183883</span><span class="p">,</span> <span class="mf">54.07541286718799</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.098377360305278</span><span class="p">,</span> <span class="mf">54.075339825840246</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">12.098501851194726</span><span class="p">,</span> <span class="mf">54.0753779343855</span> <span class="p">]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Ein Polygon ist definiert mit dem Typ <code class="docutils literal notranslate"><span class="pre">Polygon</span></code> wessen Koordinaten geben ist als Liste einer oder meherer Linienketten, welche geschlossen sind, so dass der Endpunkt mit dem Startpunkt übereinstimmt.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">campus</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Polygon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="p">[</span> <span class="mf">12.093402064538196</span><span class="p">,</span> <span class="mf">54.07479416035679</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.094194380118807</span><span class="p">,</span> <span class="mf">54.074246433609375</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.094578770845374</span><span class="p">,</span> <span class="mf">54.074103747303894</span> <span class="p">]</span> <span class="p">,</span>
            <span class="p">[</span> <span class="mf">12.095018074534778</span><span class="p">,</span> <span class="mf">54.074191200259065</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.095661340649713</span><span class="p">,</span> <span class="mf">54.074435147002276</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.096328140890677</span><span class="p">,</span> <span class="mf">54.073947252082434</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.098359920447564</span><span class="p">,</span> <span class="mf">54.075010487417984</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.098822758261605</span><span class="p">,</span> <span class="mf">54.07471591412107</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.099866104521425</span><span class="p">,</span> <span class="mf">54.07523141601854</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.09959938442529</span><span class="p">,</span> <span class="mf">54.075383303749476</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.100462302384159</span><span class="p">,</span> <span class="mf">54.075700885391115</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.098869826513692</span><span class="p">,</span> <span class="mf">54.0770356222489</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.09752838132394</span><span class="p">,</span> <span class="mf">54.076602988106</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.095394620552042</span><span class="p">,</span> <span class="mf">54.076082900668524</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.09422575895411</span><span class="p">,</span> <span class="mf">54.07581595060367</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.094743509729398</span><span class="p">,</span> <span class="mf">54.07538790639916</span> <span class="p">],</span>
            <span class="p">[</span> <span class="mf">12.093402064538196</span><span class="p">,</span> <span class="mf">54.07479416035679</span> <span class="p">]</span>
        <span class="p">]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Da viele Objekte ja nicht neben der Geometrie auch noch weitere Attribute haben, gibt es das Hilfsobjekt <code class="docutils literal notranslate"><span class="pre">Feature</span></code> indem es das Attribute <code class="docutils literal notranslate"><span class="pre">properties</span></code> gibt in dem man eigenen Meta-Daten definieren kann. So können wir uns ein GeoJSON-Objekt definieren, um die Position des OKI zu speichern.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oki</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
  <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">12.095843457646907</span><span class="p">,</span> <span class="mf">54.075229197333016</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;OKI&quot;</span><span class="p">,</span>
    <span class="s2">&quot;addresse&quot;</span><span class="p">:</span> <span class="s2">&quot;Justus-von-Liebig-Weg 2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;stadt&quot;</span><span class="p">:</span> <span class="s2">&quot;Rostock&quot;</span><span class="p">,</span>
    <span class="s2">&quot;postleitzahl&quot;</span><span class="p">:</span> <span class="s2">&quot;18059&quot;</span><span class="p">,</span>
    <span class="s2">&quot;land&quot;</span><span class="p">:</span> <span class="s2">&quot;Deutschland&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">auf</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
  <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">12.098494794410726</span><span class="p">,</span> <span class="mf">54.075390284810425</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;AUF&quot;</span><span class="p">,</span>
    <span class="s2">&quot;addresse&quot;</span><span class="p">:</span> <span class="s2">&quot;Justus-von-Liebig-Weg 6&quot;</span><span class="p">,</span>
    <span class="s2">&quot;stadt&quot;</span><span class="p">:</span> <span class="s2">&quot;Rostock&quot;</span><span class="p">,</span>
    <span class="s2">&quot;postleitzahl&quot;</span><span class="p">:</span><span class="s2">&quot;18059&quot;</span><span class="p">,</span>
    <span class="s2">&quot;land&quot;</span><span class="p">:</span> <span class="s2">&quot;Deutschland&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">weg_oki_auf</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
  <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="n">linie_oki_auf</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Weg OKI zu AUF&quot;</span><span class="p">,</span>
    <span class="s2">&quot;stadt&quot;</span><span class="p">:</span> <span class="s2">&quot;Rostock&quot;</span><span class="p">,</span>
    <span class="s2">&quot;postleitzahl&quot;</span><span class="p">:</span><span class="s2">&quot;18059&quot;</span><span class="p">,</span>
    <span class="s2">&quot;land&quot;</span><span class="p">:</span> <span class="s2">&quot;Deutschland&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
    
<span class="n">campus_auf</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
  <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="n">campus</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Campus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;stadt&quot;</span><span class="p">:</span> <span class="s2">&quot;Rostock&quot;</span><span class="p">,</span>
    <span class="s2">&quot;postleitzahl&quot;</span><span class="p">:</span><span class="s2">&quot;18059&quot;</span><span class="p">,</span>
    <span class="s2">&quot;land&quot;</span><span class="p">:</span> <span class="s2">&quot;Deutschland&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Eine Sammlung an <code class="docutils literal notranslate"><span class="pre">Features</span></code> wird in einer <code class="docutils literal notranslate"><span class="pre">FeatureCollection</span></code> abgelegt. Sie besitzt neben dem <code class="docutils literal notranslate"><span class="pre">type</span></code> die Liste <code class="docutils literal notranslate"><span class="pre">features</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">features</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FeatureCollection&quot;</span><span class="p">,</span>
  <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">oki</span><span class="p">,</span>
    <span class="n">auf</span><span class="p">,</span>
    <span class="n">weg_oki_auf</span><span class="p">,</span>
    <span class="n">campus_auf</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Zur Verarbeitung dieser GeoJSON-Objekte in Python können wir das Paket <code class="docutils literal notranslate"><span class="pre">geojson</span></code> nutzen. Wir installieren diese wieder mit <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">geojson</span>  <span class="o">--</span><span class="n">quiet</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/jplonnigs/.zshenv:.:1: no such file or directory: /Users/jplonnigs/.cargo/env
/Users/jplonnigs/Documents/code/Lehre/ProgrammierUebung/.venv/bin/python: No module named pip
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<p>Das Paket <code class="docutils literal notranslate"><span class="pre">geojson</span></code> bietet uns auch Standardklassen für Punkte, Linien und Polygone an, die wir uns zuvor selbst als <a class="reference internal" href="#7a_Object.html"><span class="xref myst">Klassen</span></a> definiert hatten. Aufgrund des umfangreichen Angebots and Paketen für Python lassen sich häufig auch Pakete finden, die entsprechende Klassen für die eigenen Problemstellungen bieten, so dass sich immer eine Suche lohnt. Ein Punkt in GeoJSON erzeugen wir mit dem Paket durch</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">geojson</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point</span>

<span class="n">geojson_punkt</span><span class="o">=</span><span class="n">Point</span><span class="p">((</span><span class="mf">12.095843457646907</span><span class="p">,</span> <span class="mf">54.075229197333016</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">geojson_punkt</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">geojson_punkt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">from</span><span class="w"> </span><span class="nn">geojson</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">geojson_punkt</span><span class="o">=</span><span class="n">Point</span><span class="p">((</span><span class="mf">12.095843457646907</span><span class="p">,</span> <span class="mf">54.075229197333016</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">geojson_punkt</span><span class="p">))</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;geojson&#39;
</pre></div>
</div>
</div>
</div>
<p>Neue Instanzen lassen sich auch direkt aus dem JSON erzeugen. Hierfür benutzen wir die <code class="docutils literal notranslate"><span class="pre">loads</span></code>-Funktion des Pakets. Sie wandelt einen JSON-String in ein Objekt um. Um den JSON-String zu erzeugen, wandeln wir das Dictionary <code class="docutils literal notranslate"><span class="pre">punkt</span></code> in ein String um mit der Funktion <code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geojson</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="n">json_str</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">punkt</span><span class="p">)</span>
<span class="n">gson_punkt</span><span class="o">=</span><span class="n">geojson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">gson_punkt</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gson_punkt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">geojson</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">json_str</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">punkt</span><span class="p">)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;geojson&#39;
</pre></div>
</div>
</div>
</div>
<p>So lässt sich auch unser ganze Feature Collection laden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geojson</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="n">json_str</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
<span class="n">gson_features</span><span class="o">=</span><span class="n">geojson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">gson_features</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gson_features</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">geojson</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">json_str</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;geojson&#39;
</pre></div>
</div>
</div>
</div>
<p>Der Vorteil von GeoJSON-Objekten ist, dass wiederum viele weitere Pakete existieren, um dieses Format zu analysieren. Wollen wir zum Beispile unsere Feature Collection auf einer Karte visualisieren, können wir das Paket <code class="docutils literal notranslate"><span class="pre">geojsonio</span></code> nutzen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">geojsonio</span>  <span class="o">--</span><span class="n">quiet</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/jplonnigs/.zshenv:.:1: no such file or directory: /Users/jplonnigs/.cargo/env
/Users/jplonnigs/Documents/code/Lehre/ProgrammierUebung/.venv/bin/python: No module named pip
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geojsonio</span>

<span class="n">geojsonio</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
</pre></div>
</div>
</div>
<details class="admonition hide below-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell output</p>
<p class="expanded admonition-title">Hide code cell output</p>
</summary>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span> <span class="n">line</span> <span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">geojsonio</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">geojsonio</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;json_str&#39; is not defined
</pre></div>
</div>
</div>
</details>
</div>
<p>Wenn wir dem Link folgen kommen wir zu einer Webseite die uns die Polygone, Linie und Punkte anzeigt.</p>
<p><img alt="Campus" src="../_images/campus.png" /></p>
<p>Weitere Anwendungen von GeoJSON werden wir in der Übung kennen lernen.</p>
</section>
<section id="xml">
<h2>XML<a class="headerlink" href="#xml" title="Link to this heading">#</a></h2>
<p>XML ist ein anderes sehr weit verbreitetes Dateiformat. Alle Webseiten im Internet nutzen z.B. dieses Format. Es ist älter als JSON und immer noch sehr beliebt, weil es erlaubt Schemata (XLS) zu definieren, gegen diese die Datei validiert werden kann. So kann man z.B. sicher stellen das HTML-Dateien korrekt sind.</p>
<p>Mit Hilfe der externen Pakete <code class="docutils literal notranslate"><span class="pre">dicttoxml</span></code> und <code class="docutils literal notranslate"><span class="pre">xmltodict</span></code> können XML-Dateien auch einfach geschrieben und gelesen werden. Wir installieren sie mit <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">dicttoxml</span> <span class="n">xmltodict</span>  <span class="o">--</span><span class="n">quiet</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/jplonnigs/.zshenv:.:1: no such file or directory: /Users/jplonnigs/.cargo/env
/Users/jplonnigs/Documents/code/Lehre/ProgrammierUebung/.venv/bin/python: No module named pip
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;person.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">dateinhalt</span> <span class="o">=</span> <span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;person.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">dateinhalt</span> <span class="o">=</span> <span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="nb">print</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>

<span class="nn">File ~/Documents/code/Lehre/ProgrammierUebung/.venv/lib/python3.12/site-packages/IPython/core/interactiveshell.py:343,</span> in <span class="ni">_modified_open</span><span class="nt">(file, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">336</span> <span class="k">if</span> <span class="n">file</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}:</span>
<span class="g g-Whitespace">    </span><span class="mi">337</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">338</span>         <span class="sa">f</span><span class="s2">&quot;IPython won&#39;t let you open fd=</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> by default &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">339</span>         <span class="s2">&quot;as it is likely to crash IPython. If you know what you are doing, &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">340</span>         <span class="s2">&quot;you can use builtins&#39; open.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">341</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">343</span> <span class="k">return</span> <span class="n">io_open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;person.xml&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xmltodict</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;person.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">person_geladen</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">xml_attribs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datentyp </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">person_geladen</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">person_geladen</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">28</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">xmltodict</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;person.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="n">person_geladen</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">xml_attribs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;xmltodict&#39;
</pre></div>
</div>
</div>
</div>
<p>Auch hier entspricht das geladene <code class="docutils literal notranslate"><span class="pre">dict</span></code> unserem ursprünglichem.</p>
<section id="csv-dateien">
<h3>CSV-Dateien<a class="headerlink" href="#csv-dateien" title="Link to this heading">#</a></h3>
<p>Tabellen und Messwerte werden häufig als CSV-Dateien ausgetauscht. Dies ist ein sehr einfaches Format bei dem in der ersten Zeile der Text-Datei die Spaltennamen stehen und dann in jeder Zeile steht eine Reihe der Tabelle. Alle Werte werden durch Kommata <code class="docutils literal notranslate"><span class="pre">,</span></code> getrennt. Da das Komma im Deutschen als Dezimaltrennzeichen genutzt wird, wird hier häufig ein <code class="docutils literal notranslate"><span class="pre">;</span></code> oder Tabulator <code class="docutils literal notranslate"><span class="pre">\t</span></code> genutzt.</p>
<p>Zum Verarbeiten von Tabellen nutzt man in Python meist die <code class="docutils literal notranslate"><span class="pre">pandas</span></code>-Bibliothek. Wollen wir zum Beispiel den Datensatz zweier Personen speichern, so wandeln wir diesen zuerst in eine <code class="docutils literal notranslate"><span class="pre">pandas</span></code>-Tabelle (DataFrame) um.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">leute</span><span class="o">=</span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;FirstName&quot;</span><span class="p">:</span><span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="s2">&quot;LastName&quot;</span><span class="p">:</span><span class="s2">&quot;Smith&quot;</span><span class="p">,</span> <span class="s2">&quot;IsAlive&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Age&quot;</span><span class="p">:</span><span class="mi">25</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;FirstName&quot;</span><span class="p">:</span><span class="s2">&quot;Mary&quot;</span><span class="p">,</span> <span class="s2">&quot;LastName&quot;</span><span class="p">:</span><span class="s2">&quot;Sue&quot;</span><span class="p">,</span> <span class="s2">&quot;IsAlive&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Age&quot;</span><span class="p">:</span><span class="mi">30</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">tabelle</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">leute</span><span class="p">)</span>
<span class="n">tabelle</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FirstName</th>
      <th>LastName</th>
      <th>IsAlive</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>John</td>
      <td>Smith</td>
      <td>True</td>
      <td>25</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Mary</td>
      <td>Sue</td>
      <td>True</td>
      <td>30</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Diesen können wir jetzt als CSV-Datei speichern.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabelle</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;leute.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># index=False sorgt dafür dass die Zeilennummern 0 und 1 weggelassen werden</span>
</pre></div>
</div>
</div>
</div>
<p>Wir lesen probeweise die Datei wieder ein. Da sie text-basiert ist können wir <code class="docutils literal notranslate"><span class="pre">open()</span></code> mit <code class="docutils literal notranslate"><span class="pre">tr</span></code> nutzen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;leute.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">dateinhalt</span> <span class="o">=</span> <span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FirstName,LastName,IsAlive,Age
John,Smith,True,25
Mary,Sue,True,30
</pre></div>
</div>
</div>
</div>
<p>Wir können jetzt die CSV-Datei wieder in eine Tabelle laden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabelle_gelesen</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;leute.csv&quot;</span><span class="p">)</span>
<span class="n">tabelle_gelesen</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FirstName</th>
      <th>LastName</th>
      <th>IsAlive</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>John</td>
      <td>Smith</td>
      <td>True</td>
      <td>25</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Mary</td>
      <td>Sue</td>
      <td>True</td>
      <td>30</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>und zu dem Dictionary zurückverwandeln</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabelle_gelesen</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="s2">&quot;records&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;FirstName&#39;: &#39;John&#39;, &#39;LastName&#39;: &#39;Smith&#39;, &#39;IsAlive&#39;: True, &#39;Age&#39;: 25},
 {&#39;FirstName&#39;: &#39;Mary&#39;, &#39;LastName&#39;: &#39;Sue&#39;, &#39;IsAlive&#39;: True, &#39;Age&#39;: 30}]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="typische-binare-dateiformate">
<h2>Typische binäre Dateiformate<a class="headerlink" href="#typische-binare-dateiformate" title="Link to this heading">#</a></h2>
<section id="xls-dateien">
<h3>XLS-Dateien<a class="headerlink" href="#xls-dateien" title="Link to this heading">#</a></h3>
<p>Diese CSV-Dateien können wir auch einfach in andere Programme wie Microsoft Excel einlesen oder von dort aus speichern. Das Hausformat von Excel sind <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code> Dateien. Diese können wir mit dem Paket <code class="docutils literal notranslate"><span class="pre">openpyxl</span></code> auch direkt aus pandas heraus schreiben. Wir installieren uns <code class="docutils literal notranslate"><span class="pre">openpyxl</span></code> mit ´pip`.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">openpyxl</span>  <span class="o">--</span><span class="n">quiet</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/jplonnigs/.zshenv:.:1: no such file or directory: /Users/jplonnigs/.cargo/env
/Users/jplonnigs/Documents/code/Lehre/ProgrammierUebung/.venv/bin/python: No module named pip
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<p>Nach der installation können wir einfach die Tabelle als Excel-Datei exportieren.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tabelle</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s2">&quot;leute.xlsx&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># index=False sorgt dafür dass die Zeilennummer weggelassen wird</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">37</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">tabelle</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s2">&quot;leute.xlsx&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># index=False sorgt dafür dass die Zeilennummer weggelassen wird</span>

<span class="nn">File ~/Documents/code/Lehre/ProgrammierUebung/.venv/lib/python3.12/site-packages/pandas/util/_decorators.py:333,</span> in <span class="ni">deprecate_nonkeyword_arguments.&lt;locals&gt;.decorate.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">327</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">num_allow_args</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">328</span>     <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">329</span>         <span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arguments</span><span class="o">=</span><span class="n">_format_argument_list</span><span class="p">(</span><span class="n">allow_args</span><span class="p">)),</span>
<span class="g g-Whitespace">    </span><span class="mi">330</span>         <span class="ne">FutureWarning</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">331</span>         <span class="n">stacklevel</span><span class="o">=</span><span class="n">find_stack_level</span><span class="p">(),</span>
<span class="g g-Whitespace">    </span><span class="mi">332</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">333</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/Documents/code/Lehre/ProgrammierUebung/.venv/lib/python3.12/site-packages/pandas/core/generic.py:2436,</span> in <span class="ni">NDFrame.to_excel</span><span class="nt">(self, excel_writer, sheet_name, na_rep, float_format, columns, header, index, index_label, startrow, startcol, engine, merge_cells, inf_rep, freeze_panes, storage_options, engine_kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">2423</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pandas.io.formats.excel</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExcelFormatter</span>
<span class="g g-Whitespace">   </span><span class="mi">2425</span> <span class="n">formatter</span> <span class="o">=</span> <span class="n">ExcelFormatter</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">2426</span>     <span class="n">df</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2427</span>     <span class="n">na_rep</span><span class="o">=</span><span class="n">na_rep</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>   <span class="mi">2434</span>     <span class="n">inf_rep</span><span class="o">=</span><span class="n">inf_rep</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2435</span> <span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">2436</span> <span class="n">formatter</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">2437</span>     <span class="n">excel_writer</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2438</span>     <span class="n">sheet_name</span><span class="o">=</span><span class="n">sheet_name</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2439</span>     <span class="n">startrow</span><span class="o">=</span><span class="n">startrow</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2440</span>     <span class="n">startcol</span><span class="o">=</span><span class="n">startcol</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2441</span>     <span class="n">freeze_panes</span><span class="o">=</span><span class="n">freeze_panes</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2442</span>     <span class="n">engine</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2443</span>     <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2444</span>     <span class="n">engine_kwargs</span><span class="o">=</span><span class="n">engine_kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2445</span> <span class="p">)</span>

<span class="nn">File ~/Documents/code/Lehre/ProgrammierUebung/.venv/lib/python3.12/site-packages/pandas/io/formats/excel.py:943,</span> in <span class="ni">ExcelFormatter.write</span><span class="nt">(self, writer, sheet_name, startrow, startcol, freeze_panes, engine, storage_options, engine_kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">941</span>     <span class="n">need_save</span> <span class="o">=</span> <span class="kc">False</span>
<span class="g g-Whitespace">    </span><span class="mi">942</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">943</span>     <span class="n">writer</span> <span class="o">=</span> <span class="n">ExcelWriter</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">944</span>         <span class="n">writer</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">945</span>         <span class="n">engine</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">946</span>         <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">947</span>         <span class="n">engine_kwargs</span><span class="o">=</span><span class="n">engine_kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">948</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">949</span>     <span class="n">need_save</span> <span class="o">=</span> <span class="kc">True</span>
<span class="g g-Whitespace">    </span><span class="mi">951</span> <span class="k">try</span><span class="p">:</span>

<span class="nn">File ~/Documents/code/Lehre/ProgrammierUebung/.venv/lib/python3.12/site-packages/pandas/io/excel/_openpyxl.py:57,</span> in <span class="ni">OpenpyxlWriter.__init__</span><span class="nt">(self, path, engine, date_format, datetime_format, mode, storage_options, if_sheet_exists, engine_kwargs, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">44</span> <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">45</span>     <span class="bp">self</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">46</span>     <span class="n">path</span><span class="p">:</span> <span class="n">FilePath</span> <span class="o">|</span> <span class="n">WriteExcelBuffer</span> <span class="o">|</span> <span class="n">ExcelWriter</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>     <span class="mi">55</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">56</span>     <span class="c1"># Use the openpyxl module as the Excel writer.</span>
<span class="ne">---&gt; </span><span class="mi">57</span>     <span class="kn">from</span><span class="w"> </span><span class="nn">openpyxl.workbook</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workbook</span>
<span class="g g-Whitespace">     </span><span class="mi">59</span>     <span class="n">engine_kwargs</span> <span class="o">=</span> <span class="n">combine_kwargs</span><span class="p">(</span><span class="n">engine_kwargs</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">61</span>     <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">62</span>         <span class="n">path</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">63</span>         <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>     <span class="mi">66</span>         <span class="n">engine_kwargs</span><span class="o">=</span><span class="n">engine_kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span>     <span class="p">)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;openpyxl&#39;
</pre></div>
</div>
</div>
</div>
<p>Diese Datei ist erstmal eine binäre Datei. Wir können sie also nicht mit <code class="docutils literal notranslate"><span class="pre">open()</span></code> und <code class="docutils literal notranslate"><span class="pre">tr</span></code> lesen, sondern müssen die binäre Variante mit <code class="docutils literal notranslate"><span class="pre">br</span></code> nehmen.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;leute.xlsx&quot;</span><span class="p">,</span> <span class="s2">&quot;br&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
    <span class="n">dateinhalt</span> <span class="o">=</span> <span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">38</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;leute.xlsx&quot;</span><span class="p">,</span> <span class="s2">&quot;br&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fi</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">dateinhalt</span> <span class="o">=</span> <span class="n">fi</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="nb">print</span><span class="p">(</span><span class="n">dateinhalt</span><span class="p">)</span>

<span class="nn">File ~/Documents/code/Lehre/ProgrammierUebung/.venv/lib/python3.12/site-packages/IPython/core/interactiveshell.py:343,</span> in <span class="ni">_modified_open</span><span class="nt">(file, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">336</span> <span class="k">if</span> <span class="n">file</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}:</span>
<span class="g g-Whitespace">    </span><span class="mi">337</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">338</span>         <span class="sa">f</span><span class="s2">&quot;IPython won&#39;t let you open fd=</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> by default &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">339</span>         <span class="s2">&quot;as it is likely to crash IPython. If you know what you are doing, &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">340</span>         <span class="s2">&quot;you can use builtins&#39; open.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">341</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">343</span> <span class="k">return</span> <span class="n">io_open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;leute.xlsx&#39;
</pre></div>
</div>
</div>
</div>
<p>Was wir sehen sind viele unverständliche binäre Zeichen. Dahinter steckt in diesem Fall eine komprimierte ZIP-Datei, da das <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>-Dateiformat eigentlich nur eine ZIP-Datei ist die mehrere XML-Dateien enthält.</p>
</section>
<section id="zip-dateien">
<h3>ZIP-Dateien<a class="headerlink" href="#zip-dateien" title="Link to this heading">#</a></h3>
<p>ZIP-Dateien sind Dateien, welche andere Dateien und Verzeichnisse enthalten und diese komprimieren. Dadurch können mehrere Dateien in einer einzigen zusammengefasst werden und verbrauchen weniger Speicher. Deshalb werden ZIP-Dateien gerne im Versand mehrere Dateien verwendet.</p>
<p>Auch die <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code> Datei von Excel ist eine verkappte ZIP-Datei, die mehrere XML-Dateien in dem offenen Office-Format enthält.</p>
<p>Dies lässt sich zeigen in dem wir die Datei in eine ZIP-Datei umbenennen mit <code class="docutils literal notranslate"><span class="pre">os.rename()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;leute.xlsx&quot;</span><span class="p">,</span> <span class="s2">&quot;leute.zip&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">39</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;leute.xlsx&quot;</span><span class="p">,</span> <span class="s2">&quot;leute.zip&quot;</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;leute.xlsx&#39; -&gt; &#39;leute.zip&#39;
</pre></div>
</div>
</div>
</div>
<p>Wollen wir die Dateien in der Zip-Datei sehen, so können wir diese mit dem <code class="docutils literal notranslate"><span class="pre">ZipFile</span></code>-Objekt des Standardpaktes <code class="docutils literal notranslate"><span class="pre">zipfile</span></code> öffnen. Es funktioniert genauso wie <code class="docutils literal notranslate"><span class="pre">open()</span></code> nur für ZIP-Dateien. Mit der Methode <code class="docutils literal notranslate"><span class="pre">namelist</span></code> können wir alle Dateien in der Zip-Datei auflisten.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>

<span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;leute.zip&quot;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zipdatei</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">zipdatei</span><span class="o">.</span><span class="n">namelist</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">40</span><span class="p">],</span> <span class="n">line</span> <span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;leute.zip&quot;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zipdatei</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">zipdatei</span><span class="o">.</span><span class="n">namelist</span><span class="p">():</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>         <span class="nb">print</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>

<span class="nn">File ~/.local/share/uv/python/cpython-3.12.10-macos-aarch64-none/lib/python3.12/zipfile/__init__.py:1336,</span> in <span class="ni">ZipFile.__init__</span><span class="nt">(self, file, mode, compression, allowZip64, compresslevel, strict_timestamps, metadata_encoding)</span>
<span class="g g-Whitespace">   </span><span class="mi">1334</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1335</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1336</span>         <span class="bp">self</span><span class="o">.</span><span class="n">fp</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">filemode</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1337</span>     <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1338</span>         <span class="k">if</span> <span class="n">filemode</span> <span class="ow">in</span> <span class="n">modeDict</span><span class="p">:</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;leute.zip&#39;
</pre></div>
</div>
</div>
</div>
<p>Um aus der Zip-Datei eine einzelne Datei zu lesen, können wir die <code class="docutils literal notranslate"><span class="pre">read()</span></code>-Methode nutzen. Laden wir z.B. die ‘xl/worksheets/sheet1.xml’ welche unsere Daten enthält so sehen wir unsere Daten in der typischen XML-Struktur.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>

<span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;leute.zip&quot;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zipdatei</span><span class="p">:</span>
    <span class="n">xmldatei</span> <span class="o">=</span> <span class="n">zipdatei</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;xl/worksheets/sheet1.xml&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">xmldatei</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">41</span><span class="p">],</span> <span class="n">line</span> <span class="mi">4</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>
<span class="ne">----&gt; </span><span class="mi">4</span> <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;leute.zip&quot;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zipdatei</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">xmldatei</span> <span class="o">=</span> <span class="n">zipdatei</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;xl/worksheets/sheet1.xml&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="nb">print</span><span class="p">(</span><span class="n">xmldatei</span><span class="p">)</span>

<span class="nn">File ~/.local/share/uv/python/cpython-3.12.10-macos-aarch64-none/lib/python3.12/zipfile/__init__.py:1336,</span> in <span class="ni">ZipFile.__init__</span><span class="nt">(self, file, mode, compression, allowZip64, compresslevel, strict_timestamps, metadata_encoding)</span>
<span class="g g-Whitespace">   </span><span class="mi">1334</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1335</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1336</span>         <span class="bp">self</span><span class="o">.</span><span class="n">fp</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">filemode</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1337</span>     <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1338</span>         <span class="k">if</span> <span class="n">filemode</span> <span class="ow">in</span> <span class="n">modeDict</span><span class="p">:</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;leute.zip&#39;
</pre></div>
</div>
</div>
</div>
<p>Mit der <code class="docutils literal notranslate"><span class="pre">parse</span></code>-Funktion des <code class="docutils literal notranslate"><span class="pre">xmltodict</span></code>-Paketes können wir diese XML-Datei zum Beispiel in ein ´dict´ in Python umwandeln.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xmldict</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">xmldatei</span><span class="p">,</span> <span class="n">xml_attribs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">xmldict</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">42</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">xmldict</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">xmldatei</span><span class="p">,</span> <span class="n">xml_attribs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">pprint</span><span class="p">(</span><span class="n">xmldict</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;xmltodict&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Unser ursprüngliches Dictionary <code class="docutils literal notranslate"><span class="pre">leute</span></code>, welches wir oben definiert haben ist in diesem Dictionary nicht mehr erkenntlich. Das liegt daran, dass dieses Format von Microsoft Excel definiert wurde und nicht speziel für unseren Zweck ausgelegt ist. Wichtig ist allerdings, dass das Format durchaus durch Menschen lesbar ist, so dass heutzutage viele andere Tools, wie LibreOffice, Google Docs, etc. dieses Format lesen und schreiben können. Das ist ein wichtiger Grund für die Nutzung von offenen XML-Formaten.</p>
</section>
</section>
<section id="quiz">
<h2>Quiz<a class="headerlink" href="#quiz" title="Link to this heading">#</a></h2>
<div class="quizdown">    ---
    shuffleQuestions: true
    shuffleAnswers: true
    ---

    ### Warum werden in Programmen häufig Dateien verwendet?
    - [x] Um Daten dauerhaft zu speichern
    - [ ] Um den Code schneller auszuführen
    - [ ] Um Variablen automatisch zu initialisieren
    - [ ] Um grafische Oberflächen zu erstellen

    ### Wo befinden sich Dateien in einem Computer?
    - [x] In Verzeichnissen (Ordnern)
    - [ ] Im RAM
    - [ ] In der CPU
    - [ ] Nur in der Cloud

    ### Welche der folgenden Aussagen zum Umgang mit Dateien in Python ist korrekt?
    - [x] Man sollte Dateien nach dem Öffnen immer schließen oder `with` verwenden.
    - [ ] Dateien können ohne Pfadangabe nur aus dem Internet geladen werden.
    - [ ] Es gibt keine Möglichkeit, Dateien zeilenweise zu lesen.
    - [ ] Python unterstützt keinen Schreibmodus.

    ### Was macht der folgende Code?
    ```python
    with open(&quot;notizen.txt&quot;, &quot;r&quot;) as f:
        zeilen = f.readlines()
    ```
    - [x] Er liest alle Zeilen der Datei `notizen.txt` in eine Liste ein.
    - [ ] Er schreibt alle Zeilen in die Datei.
    - [ ] Er löscht die Datei.
    - [ ] Er gibt jede Zeile sofort auf dem Bildschirm aus.

    ### Was bewirkt die Funktion `open(&quot;datei.txt&quot;, &quot;r&quot;)` in Python?
    - [x] Sie öffnet die Datei `datei.txt` zum Lesen.
    - [ ] Sie erstellt eine neue Datei mit dem Namen `datei.txt`.
    - [ ] Sie öffnet die Datei `datei.txt` zum Schreiben.
    - [ ] Sie löscht den Inhalt der Datei `datei.txt`.

    ### Was passiert, wenn die Datei nicht existiert und `open(&quot;nichtda.txt&quot;, &quot;r&quot;)` ausgeführt wird?
    - [x] Es wird eine Fehlermeldung `FileNotFoundError` ausgelöst.
    - [ ] Eine leere Datei wird erstellt.
    - [ ] Das Programm läuft normal weiter.
    - [ ] Die Datei wird automatisch im Schreibmodus geöffnet.

    ### Welcher Fehler steckt in diesem Beispiel?
    ```python
    file = open(&quot;daten.txt&quot;, &quot;r&quot;
    data = file.read()
    ```
    - [x] Eine schließende Klammer fehlt in der `open`-Funktion.
    - [ ] Der Dateiname ist ungültig.
    - [ ] `read()` kann nur auf binäre Dateien angewendet werden.
    - [ ] `open` ist kein gültiger Befehl.


    ### Welcher Modus öffnet eine Datei zum Schreiben und überschreibt den Inhalt?
    - [x] &quot;w&quot;
    - [ ] &quot;r&quot;
    - [ ] &quot;a&quot;
    - [ ] &quot;x&quot;

    ### Was passiert bei folgendem Code, wenn die Datei bereits existiert?
    ```python
    with open(&quot;ausgabe.txt&quot;, &quot;w&quot;) as f:
        f.write(&quot;Hallo Welt&quot;)
    ```
    - [x] Der alte Inhalt der Datei wird gelöscht und überschrieben.
    - [ ] Es wird ein Fehler ausgelöst.
    - [ ] Der neue Text wird an das Ende der Datei angehängt.
    - [ ] Die Datei wird nicht verändert.

    ### Wie prüft man in Python, ob eine Datei existiert?
    - [x] Mit `os.path.exists(&quot;datei.txt&quot;)`
    - [ ] Mit `open(&quot;datei.txt&quot;)`
    - [ ] Mit `exists(&quot;datei.txt&quot;)`
    - [ ] Mit `os.exist(&quot;datei.txt&quot;)`

    ### Was ist notwendig, um `os.path.exists` nutzen zu können?
    - [x] Das Modul `os` muss importiert werden.
    - [ ] Das Modul `datetime` muss importiert werden.
    - [ ] Es braucht keine Imports.
    - [ ] `os.path.exists` ist eine eingebaute Funktion.

    ### Welche Funktion listet alle Dateien in einem Verzeichnis auf?
    - [x] `os.listdir()`
    - [ ] `os.showfiles()`
    - [ ] `os.files()`
    - [ ] `list.files()`

    ### Wie kann man mit Python nur `.txt`-Dateien aus einem Ordner auflisten?
    - [x] Mit einer Kombination aus `os.listdir()` und einer Filterung per Schleife
    - [ ] Nur mit `os.gettxtfiles()`
    - [ ] Automatisch mit `open(&quot;*.txt&quot;)`
    - [ ] Mit `file.list(&quot;*.txt&quot;)`

    ### Wie löscht man eine Datei in Python?
    - [x] Mit `os.remove(&quot;datei.txt&quot;)`
    - [ ] Mit `os.delete(&quot;datei.txt&quot;)`
    - [ ] Mit `os.clear(&quot;datei.txt&quot;)`
    - [ ] Mit `os.erase(&quot;datei.txt&quot;)`

    ### Wie lädt man eine JSON-Datei in Python?
    - [x] Mit `json.load(open(&quot;datei.json&quot;))`
    - [ ] Mit `json.read(&quot;datei.json&quot;)`
    - [ ] Mit `json.load(&quot;datei.json&quot;)`
    - [ ] Mit `json.open(&quot;datei.json&quot;)`

    ### Was ist der Zweck von `json.dump()`?
    - [x] Um Python-Objekte in eine JSON-Datei zu schreiben.
    - [ ] Um JSON-Daten zu lesen.
    - [ ] Um JSON-Daten zu löschen.
    - [ ] Um JSON-Daten zu formatieren.

    ### Was ist JSON?
    - [x] Ein textbasiertes Format zum Austausch von Daten.
    - [ ] Ein binäres Dateiformat.
    - [ ] Ein Bildformat

    ### Was sind textbasierte Dateien?
    - [ ] *.png
    - [x] *.csv
    - [x] *.xml
    - [x] *.json
    - [ ] *.jpg

    ### Was ist der Unterschied zwischen JSON und XML?
    - [x] JSON ist einfacher und kompakter, XML ist umfangreicher und flexibler.
    - [ ] JSON ist älter als XML.
    - [ ] XML ist einfacher zu lesen als JSON.
    - [ ] JSON kann keine verschachtelten Strukturen darstellen.
</div></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lectures"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="07a_Module.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Modularisierung</p>
      </div>
    </a>
    <a class="right-next"
       href="10a_Datenbanktypen.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Datenbanktypen</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#folien-pdf"><a href="/lec_slides/09_Datenhaltung.slides.html">Folien</a>/<a href="/pdf/slides/09_Datenhaltung.pdf">PDF</a></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dateien-lesen">Dateien lesen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dateien-schreiben">Dateien schreiben</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#datei-existenz-testen">Datei existenz testen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dateien-auflisten">Dateien auflisten</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dateien-loschen">Dateien löschen</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#typische-textuelle-dateiformate">Typische textuelle Dateiformate</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#txt-dateien">TXT-Dateien</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#json-dateien">JSON-Dateien</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#geojson-dateien">GeoJSON-Dateien</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#xml">XML</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-dateien">CSV-Dateien</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#typische-binare-dateiformate">Typische binäre Dateiformate</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xls-dateien">XLS-Dateien</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#zip-dateien">ZIP-Dateien</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quiz">Quiz</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Joern Ploennigs, AI 4 Sustainable Construction, University of Rostock
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright CC-BY-NC-SA 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>